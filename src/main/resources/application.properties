# --- JDBC DataSource (used by JdbcTemplate, Flyway, pgvector VectorStore) ---
spring.datasource.url=jdbc:postgresql://localhost:5432/onboarding
spring.datasource.username=onboarding
spring.datasource.password=onboarding
spring.datasource.driver-class-name=org.postgresql.Driver
spring.datasource.hikari.maximum-pool-size=5

# --- Optional: R2DBC DataSource (used by your reactive repositories) ---
spring.r2dbc.url=r2dbc:postgresql://localhost:5432/onboarding
spring.r2dbc.username=onboarding
spring.r2dbc.password=onboarding

# --- Flyway (runs via JDBC) ---
spring.flyway.enabled=true
spring.flyway.url=jdbc:postgresql://localhost:5432/onboarding
spring.flyway.user=onboarding
spring.flyway.password=onboarding
spring.flyway.locations=classpath:db/migration

# --- Spring AI (OpenAI + VectorStore) ---
spring.ai.openai.api-key=${OPENAI_API_KEY}
spring.ai.openai.embedding.options.model=text-embedding-3-small

# --- pgvector VectorStore Configuration ---
spring.ai.vectorstore.pgvector.initialize-schema=true
spring.ai.vectorstore.pgvector.index-type=HNSW
spring.ai.vectorstore.pgvector.distance-type=COSINE_DISTANCE
spring.ai.vectorstore.pgvector.dimensions=1536
spring.ai.vectorstore.pgvector.schema-validation=false
spring.ai.vectorstore.pgvector.remove-existing-vector-store-table=false

# IMPORTANT:
# Do NOT set spring.ai.vectorstore.pgvector.url unless you really need
# a separate connection. If you leave it unset, pgvector will reuse
# the primary spring.datasource DataSource + JdbcTemplate.


# --- Logging ---
logging.level.com.hrpd.onboarding=DEBUG
logging.level.org.springframework.ai=DEBUG
logging.level.org.springframework.web=DEBUG
